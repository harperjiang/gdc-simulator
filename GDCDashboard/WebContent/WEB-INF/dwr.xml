<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE dwr PUBLIC "-//GetAhead Limited//DTD Direct Web Remoting 3.0//EN" "http://getahead.org/dwr//dwr30.dtd">
<dwr>
	<allow>
		<!-- filter class="org.directwebremoting.filter.ExtraLatencyAjaxFilter"> 
			<param name="delay" value="200" /> </filter -->

		<create creator="spring" javascript="structureService">
			<param name="beanName" value="structureService" />
			<include method="getDataCenters" />
			<include method="getAlerts" />
			<include method="getSystemSummary" />
		</create>

		<create creator="spring" javascript="nodeService">
			<param name="beanName" value="nodeService" />
			<include method="getData" />
		</create>

		<create creator="spring" javascript="vmService">
			<param name="beanName" value="vmService" />
			<include method="create" />
			<include method="migrate" />
			<include method="list" />
			<include method="operate" />
			<include method="find" />
		</create>

		<convert converter="enum"
			match="edu.clarkson.gdc.dashboard.domain.entity.AlertLevel" />
		<convert converter="enum"
			match="edu.clarkson.gdc.dashboard.domain.entity.AlertType" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.domain.entity.Summary" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.domain.entity.Alert" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.domain.entity.DataCenter" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.domain.entity.Battery" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.domain.entity.PowerSource" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.domain.entity.Machine" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.domain.entity.VirtualMachine" />
		<convert converter="bean"
			match="edu.clarkson.gdc.dashboard.service.vm.ListVMResultBean" />

		<!-- this is a bad idea for live, but can be useful in testing -->
		<convert converter="exception" match="java.lang.Exception" />
		<convert converter="bean" match="java.lang.StackTraceElement" />

	</allow>

</dwr>
