<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 
						http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd">

	<import resource="env.xml" />
	<import resource="event.xml" />
	<import resource="workflow.xml" />
	<import resource="scheduler.xml" />

	<bean id="nodeDao" class="edu.clarkson.gdc.dashboard.domain.dao.XMLNodeDao" />

	<bean id="vmDao" class="edu.clarkson.gdc.dashboard.domain.dao.ScriptVMDao">
		<property name="entityManager" ref="entityManager" />
		<property name="refreshInterval" value="5000" />
		<property name="listScript" value="/home/gdc/deploy/GDCDashboard/display.sh" />
		<property name="migrateScript" value="/home/gdc/deploy/GDCDashboard/migrate.sh" />
		<property name="operateScript" value="/home/gdc/deploy/GDCDashboard/operate.sh" />
	</bean>

	<bean id="alertDao" class="edu.clarkson.gdc.dashboard.domain.dao.JpaAlertDao">
		<property name="entityManager" ref="entityManager" />
	</bean>
	<bean id="migrationLogDao"
		class="edu.clarkson.gdc.dashboard.domain.dao.JpaMigrationLogDao">
		<property name="entityManager" ref="entityManager" />
	</bean>

	<bean id="historyDao" class="edu.clarkson.gdc.dashboard.domain.dao.JpaHistoryDao">
		<property name="entityManager" ref="entityManager" />
	</bean>
	<bean id="statusDao" class="edu.clarkson.gdc.dashboard.domain.dao.JpaStatusDao">
		<property name="entityManager" ref="entityManager" />
	</bean>
	<bean id="lockDao" class="edu.clarkson.gdc.dashboard.domain.dao.MemoryLockDao" />

	<bean id="structureService"
		class="edu.clarkson.gdc.dashboard.service.DefaultStructureService">
		<property name="nodeDao" ref="nodeDao" />
		<property name="alertDao" ref="alertDao" />
		<property name="statusDao" ref="statusDao" />
		<property name="migrationLogDao" ref="migrationLogDao" />
	</bean>

	<bean id="nodeService" class="edu.clarkson.gdc.dashboard.service.DefaultNodeService">
		<property name="nodeDao" ref="nodeDao" />
		<property name="historyDao" ref="historyDao" />
		<property name="statusDao" ref="statusDao" />
		<property name="vmDao" ref="vmDao" />
		<property name="latency" value="60000" />
	</bean>

	<bean id="vmService" class="edu.clarkson.gdc.dashboard.service.DefaultVMService">
		<property name="nodeDao" ref="nodeDao" />
		<property name="vmDao" ref="vmDao" />
	</bean>

	<bean id="interfaceService"
		class="edu.clarkson.gdc.dashboard.service.DefaultInterfaceService">
		<property name="nodeDao" ref="nodeDao" />
		<property name="historyDao" ref="historyDao" />
		<property name="statusDao" ref="statusDao" />
		<property name="alertDao" ref="alertDao" />
		<property name="sender" ref="mediator" />
	</bean>

	<bean id="aiService" class="edu.clarkson.gdc.dashboard.service.DefaultAIService">
		<property name="nodeDao" ref="nodeDao" />
		<property name="historyDao" ref="historyDao" />
		<property name="statusDao" ref="statusDao" />
		<property name="vmDao" ref="vmDao" />
	</bean>

	<bean id="triggerService"
		class="edu.clarkson.gdc.dashboard.service.DefaultTriggerService">
		<property name="nodeDao" ref="nodeDao" />
		<property name="alertDao" ref="alertDao" />
	</bean>

	<bean id="sweepService" class="edu.clarkson.gdc.dashboard.service.DefaultSweepService">
		<property name="historyDao" ref="historyDao" />
	</bean>

	<bean id="adapter"
		class="edu.clarkson.gdc.common.ApplicationContextHolder.Adaptor" />
</beans>