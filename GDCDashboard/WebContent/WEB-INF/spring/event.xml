<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd 
						http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd">

	<bean id="mediator" class="edu.clarkson.gdc.event.impl.EventMediator">
		<property name="parsers">
			<list>
				<bean class="edu.clarkson.gdc.dashboard.service.ai.AlertParser" />
			</list>
		</property>
	</bean>

	<bean id="subscriber" class="edu.clarkson.gdc.event.impl.DefaultSubscriber">
		<property name="mediator" ref="mediator" />
		<property name="selector">
			<bean class="edu.clarkson.gdc.event.impl.TypeSelector">
				<property name="clazz"
					value="edu.clarkson.gdc.dashboard.domain.entity.Alert" />
				<proeprty name="type" value="Alert-BTY_LOW_LEVEL" />
			</bean>
		</property>
		<property name="handler">
			<bean class="edu.clarkson.gdc.event.impl.BeanMethodHandler">
				<property name="bean" ref="aiService" />
				<property name="method" value="handleAlert" />
			</bean>
		</property>
	</bean>
</beans>